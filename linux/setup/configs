#!/usr/bin/bash

mkdir "$HOME/.config"
mkdir "$HOME/.ssh"
mkdir "$HOME/screenshots"

mkdir -p "$HOME/.config/i3"
ln -fvs "$HOME/dotfiles/linux/config/i3/main.conf" "$HOME/.config/i3/config"

ln -fvs "$HOME/dotfiles/linux/config/nvim" "$HOME/.config/nvim"

mkdir -p "$HOME/.config/rofi"
ln -fvs "$HOME/dotfiles/linux/config/rofi/main.rasi" "$HOME/.config/rofi/config.rasi"

mkdir -p "$HOME/.config/gsimplecal"
ln -fvs "$HOME/dotfiles/linux/config/gsimplecal" "$HOME/.config/gsimplecal/config"

mkdir -p "$HOME/.config/wired"
ln -fvs "$HOME/dotfiles/linux/config/wired.ron" "$HOME/.config/wired/wired.ron"

mkdir -p "$HOME/.config/kitty"
ln -fvs "$HOME/dotfiles/linux/config/kitty.conf" "$HOME/.config/kitty/kitty.conf"

mkdir -p "$HOME/.config/flameshot"
ln -fvs "$HOME/dotfiles/linux/config/flameshot.ini" "$HOME/.config/flameshot/flameshot.ini"

ln -fvs "$HOME/dotfiles/linux/Xresources" "$HOME/.Xresources"
ln -fvs "$HOME/dotfiles/linux/profile" "$HOME/.profile"
ln -fvs "$HOME/dotfiles/linux/xprofile" "$HOME/.xprofile"
ln -fvs "$HOME/dotfiles/linux/xinitrc" "$HOME/.xinitrc"
ln -fvs "$HOME/dotfiles/linux/config/eww" "$HOME/.config/eww"
ln -fvs "$HOME/dotfiles/linux/config/keyboard.map" "$HOME/.Xmodmap"
ln -fvs "$HOME/dotfiles/linux/config/greenclip.toml" "$HOME/.config/greenclip.toml"
sudo ln -fvs "$HOME/dotfiles/linux/devices/pointers.conf" "/etc/X11/xorg.conf.d/30-pointers.conf"
# sudo ln -fvs "$HOME/dotfiles/linux/config/kernel_modules.conf" "/etc/modules-load.d/modules.conf"
# sudo ln -fvs "$HOME/dotfiles/linux/config/bluetooth.conf" "/etc/bluetooth/main.conf"
# sudo cp -f "$HOME/dotfiles/linux/config/sudoers.d/20-custom-rules" "/etc/sudoers.d/20-custom-rules"
sudo ln -fvs "$HOME/dotfiles/linux/udev/usb-watcher.rules" "/usr/lib/udev/rules.d/5-usb-watcher.rules"

# ln -fvs "$HOME/dotfiles/linux/config/default-apps.list" "$HOME/.local/share/applications/defaults.list"

sudo mkdir -pv "/usr/share/fonts/OTF"
sudo ln -fvs "$HOME/dotfiles/fonts/Font\ Awesome\ 6\ Brands-Regular-400.otf" "/usr/share/fonts/OTF/Font\ Awesome\ 6\ Brands-Regular-400.otf"
sudo ln -fvs "$HOME/dotfiles/fonts/Font\ Awesome\ 6\ Duotone-Solid-900.otf" "/usr/share/fonts/OTF/Font\ Awesome\ 6\ Duotone-Solid-900.otf"
sudo ln -fvs "$HOME/dotfiles/fonts/Font\ Awesome\ 6\ Pro-Light-300.otf" "/usr/share/fonts/OTF/Font\ Awesome\ 6\ Pro-Light-300.otf"
sudo ln -fvs "$HOME/dotfiles/fonts/Font\ Awesome\ 6\ Pro-Regular-400.otf" "/usr/share/fonts/OTF/Font\ Awesome\ 6\ Pro-Regular-400.otf"
sudo ln -fvs "$HOME/dotfiles/fonts/Font\ Awesome\ 6\ Pro-Solid-900.otf" "/usr/share/fonts/OTF/Font\ Awesome\ 6\ Pro-Solid-900.otf"
sudo ln -fvs "$HOME/dotfiles/fonts/Font\ Awesome\ 6\ Pro-Thin-100.otf" "/usr/share/fonts/OTF/Font\ Awesome\ 6\ Pro-Thin-100.otf"
mkdir -p "$HOME/.config/fontconfig/"
ln -fvs "$HOME/dotfiles/linux/config/fonts.conf" "$HOME/.config/fontconfig/fonts.conf"
fc-cache -r

sudo mkdir -p "/usr/share/icons/FontAwesome-6/solid/512x512/"
sudo ln -fvs "$HOME/dotfiles/fonts/fa6/pngs/solid" "/usr/share/icons/FontAwesome-6/solid/512x512/all"
sudo ln -fvs "$HOME/dotfiles/fonts/fa6/svgs/brands" "/usr/share/icons/FontAwesome-6/brands/512x512/all"

mkdir -p "$HOME/.config/autorandr/"
ln -fvs "$HOME/dotfiles/linux/config/autorandr/postswitch" "$HOME/.config/autorandr/postswitch"

sudo rmmod pcspkr

sudo usermod -a -G video $USER
sudo usermod -a -G docker $USER

tldr -u

chsh -s /usr/bin/zsh
